/*! For license information please see enhance.js.LICENSE.txt */
!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=11)}([function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(3),toString=Object.prototype.toString;function isArray(val){return"[object Array]"===toString.call(val)}function isUndefined(val){return void 0===val}function isObject(val){return null!==val&&"object"==typeof val}function isFunction(val){return"[object Function]"===toString.call(val)}function forEach(obj,fn){if(null!=obj)if("object"!=typeof obj&&(obj=[obj]),isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn.call(null,obj[key],key,obj)}module.exports={isArray:isArray,isArrayBuffer:function(val){return"[object ArrayBuffer]"===toString.call(val)},isBuffer:function(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&"function"==typeof val.constructor.isBuffer&&val.constructor.isBuffer(val)},isFormData:function(val){return"undefined"!=typeof FormData&&val instanceof FormData},isArrayBufferView:function(val){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&val.buffer instanceof ArrayBuffer},isString:function(val){return"string"==typeof val},isNumber:function(val){return"number"==typeof val},isObject:isObject,isUndefined:isUndefined,isDate:function(val){return"[object Date]"===toString.call(val)},isFile:function(val){return"[object File]"===toString.call(val)},isBlob:function(val){return"[object Blob]"===toString.call(val)},isFunction:isFunction,isStream:function(val){return isObject(val)&&isFunction(val.pipe)},isURLSearchParams:function(val){return"undefined"!=typeof URLSearchParams&&val instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:forEach,merge:function merge(){var result={};function assignValue(val,key){"object"==typeof result[key]&&"object"==typeof val?result[key]=merge(result[key],val):result[key]=val}for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result},deepMerge:function deepMerge(){var result={};function assignValue(val,key){"object"==typeof result[key]&&"object"==typeof val?result[key]=deepMerge(result[key],val):result[key]="object"==typeof val?deepMerge({},val):val}for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result},extend:function(a,b,thisArg){return forEach(b,(function(val,key){a[key]=thisArg&&"function"==typeof val?bind(val,thisArg):val})),a},trim:function(str){return str.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(12)},function(module,exports,__webpack_require__){module.exports=function(){"use strict";var hasOwnProperty=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,objectKeys=Object.keys,freeze=Object.freeze,seal=Object.seal,_ref="undefined"!=typeof Reflect&&Reflect,apply=_ref.apply,construct=_ref.construct;apply||(apply=function(fun,thisValue,args){return fun.apply(thisValue,args)}),freeze||(freeze=function(x){return x}),seal||(seal=function(x){return x}),construct||(construct=function(Func,args){return new(Function.prototype.bind.apply(Func,[null].concat(function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(args))))});var arrayForEach=unapply(Array.prototype.forEach),arrayIndexOf=unapply(Array.prototype.indexOf),arrayJoin=unapply(Array.prototype.join),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySlice=unapply(Array.prototype.slice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),regExpCreate=unconstruct(RegExp),typeErrorCreate=unconstruct(TypeError);function unapply(func){return function(thisArg){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return apply(func,thisArg,args)}}function unconstruct(func){return function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return construct(func,args)}}function addToSet(set,array){setPrototypeOf&&setPrototypeOf(set,null);for(var l=array.length;l--;){var element=array[l];if("string"==typeof element){var lcElement=stringToLowerCase(element);lcElement!==element&&(isFrozen(array)||(array[l]=lcElement),element=lcElement)}set[element]=!0}return set}function clone(object){var newObject={},property=void 0;for(property in object)apply(hasOwnProperty,object,[property])&&(newObject[property]=object[property]);return newObject}var html=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mathMl=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),text=freeze(["#text"]),html$1=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),svg$1=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl$1=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ERB_EXPR=seal(/<%[\s\S]*|[\s\S]*%>/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _toConsumableArray$1(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var getGlobal=function(){return"undefined"==typeof window?null:window},_createTrustedTypesPolicy=function(trustedTypes,document){if("object"!==(void 0===trustedTypes?"undefined":_typeof(trustedTypes))||"function"!=typeof trustedTypes.createPolicy)return null;var suffix=null;document.currentScript&&document.currentScript.hasAttribute("data-tt-policy-suffix")&&(suffix=document.currentScript.getAttribute("data-tt-policy-suffix"));var policyName="dompurify"+(suffix?"#"+suffix:"");try{return trustedTypes.createPolicy(policyName,{createHTML:function(html$$1){return html$$1}})}catch(_){return console.warn("TrustedTypes policy "+policyName+" could not be created."),null}};return function createDOMPurify(){var window=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getGlobal(),DOMPurify=function(root){return createDOMPurify(root)};if(DOMPurify.version="2.0.11",DOMPurify.removed=[],!window||!window.document||9!==window.document.nodeType)return DOMPurify.isSupported=!1,DOMPurify;var originalDocument=window.document,removeTitle=!1,document=window.document,DocumentFragment=window.DocumentFragment,HTMLTemplateElement=window.HTMLTemplateElement,Node=window.Node,NodeFilter=window.NodeFilter,_window$NamedNodeMap=window.NamedNodeMap,NamedNodeMap=void 0===_window$NamedNodeMap?window.NamedNodeMap||window.MozNamedAttrMap:_window$NamedNodeMap,Text=window.Text,Comment=window.Comment,DOMParser=window.DOMParser,trustedTypes=window.trustedTypes;if("function"==typeof HTMLTemplateElement){var template=document.createElement("template");template.content&&template.content.ownerDocument&&(document=template.content.ownerDocument)}var trustedTypesPolicy=_createTrustedTypesPolicy(trustedTypes,originalDocument),emptyHTML=trustedTypesPolicy?trustedTypesPolicy.createHTML(""):"",_document=document,implementation=_document.implementation,createNodeIterator=_document.createNodeIterator,getElementsByTagName=_document.getElementsByTagName,createDocumentFragment=_document.createDocumentFragment,importNode=originalDocument.importNode,hooks={};DOMPurify.isSupported=implementation&&void 0!==implementation.createHTMLDocument&&9!==document.documentMode;var MUSTACHE_EXPR$$1=MUSTACHE_EXPR,ERB_EXPR$$1=ERB_EXPR,DATA_ATTR$$1=DATA_ATTR,ARIA_ATTR$$1=ARIA_ATTR,IS_SCRIPT_OR_DATA$$1=IS_SCRIPT_OR_DATA,ATTR_WHITESPACE$$1=ATTR_WHITESPACE,IS_ALLOWED_URI$$1=IS_ALLOWED_URI,ALLOWED_TAGS=null,DEFAULT_ALLOWED_TAGS=addToSet({},[].concat(_toConsumableArray$1(html),_toConsumableArray$1(svg),_toConsumableArray$1(svgFilters),_toConsumableArray$1(mathMl),_toConsumableArray$1(text))),ALLOWED_ATTR=null,DEFAULT_ALLOWED_ATTR=addToSet({},[].concat(_toConsumableArray$1(html$1),_toConsumableArray$1(svg$1),_toConsumableArray$1(mathMl$1),_toConsumableArray$1(xml))),FORBID_TAGS=null,FORBID_ATTR=null,ALLOW_ARIA_ATTR=!0,ALLOW_DATA_ATTR=!0,ALLOW_UNKNOWN_PROTOCOLS=!1,SAFE_FOR_JQUERY=!1,SAFE_FOR_TEMPLATES=!1,WHOLE_DOCUMENT=!1,SET_CONFIG=!1,FORCE_BODY=!1,RETURN_DOM=!1,RETURN_DOM_FRAGMENT=!1,RETURN_DOM_IMPORT=!1,RETURN_TRUSTED_TYPE=!1,SANITIZE_DOM=!0,KEEP_CONTENT=!0,IN_PLACE=!1,USE_PROFILES={},FORBID_CONTENTS=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),DATA_URI_TAGS=null,DEFAULT_DATA_URI_TAGS=addToSet({},["audio","video","img","source","image","track"]),URI_SAFE_ATTRIBUTES=null,DEFAULT_URI_SAFE_ATTRIBUTES=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),CONFIG=null,formElement=document.createElement("form"),_parseConfig=function(cfg){CONFIG&&CONFIG===cfg||(cfg&&"object"===(void 0===cfg?"undefined":_typeof(cfg))||(cfg={}),ALLOWED_TAGS="ALLOWED_TAGS"in cfg?addToSet({},cfg.ALLOWED_TAGS):DEFAULT_ALLOWED_TAGS,ALLOWED_ATTR="ALLOWED_ATTR"in cfg?addToSet({},cfg.ALLOWED_ATTR):DEFAULT_ALLOWED_ATTR,URI_SAFE_ATTRIBUTES="ADD_URI_SAFE_ATTR"in cfg?addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),cfg.ADD_URI_SAFE_ATTR):DEFAULT_URI_SAFE_ATTRIBUTES,DATA_URI_TAGS="ADD_DATA_URI_TAGS"in cfg?addToSet(clone(DEFAULT_DATA_URI_TAGS),cfg.ADD_DATA_URI_TAGS):DEFAULT_DATA_URI_TAGS,FORBID_TAGS="FORBID_TAGS"in cfg?addToSet({},cfg.FORBID_TAGS):{},FORBID_ATTR="FORBID_ATTR"in cfg?addToSet({},cfg.FORBID_ATTR):{},USE_PROFILES="USE_PROFILES"in cfg&&cfg.USE_PROFILES,ALLOW_ARIA_ATTR=!1!==cfg.ALLOW_ARIA_ATTR,ALLOW_DATA_ATTR=!1!==cfg.ALLOW_DATA_ATTR,ALLOW_UNKNOWN_PROTOCOLS=cfg.ALLOW_UNKNOWN_PROTOCOLS||!1,SAFE_FOR_JQUERY=cfg.SAFE_FOR_JQUERY||!1,SAFE_FOR_TEMPLATES=cfg.SAFE_FOR_TEMPLATES||!1,WHOLE_DOCUMENT=cfg.WHOLE_DOCUMENT||!1,RETURN_DOM=cfg.RETURN_DOM||!1,RETURN_DOM_FRAGMENT=cfg.RETURN_DOM_FRAGMENT||!1,RETURN_DOM_IMPORT=cfg.RETURN_DOM_IMPORT||!1,RETURN_TRUSTED_TYPE=cfg.RETURN_TRUSTED_TYPE||!1,FORCE_BODY=cfg.FORCE_BODY||!1,SANITIZE_DOM=!1!==cfg.SANITIZE_DOM,KEEP_CONTENT=!1!==cfg.KEEP_CONTENT,IN_PLACE=cfg.IN_PLACE||!1,IS_ALLOWED_URI$$1=cfg.ALLOWED_URI_REGEXP||IS_ALLOWED_URI$$1,SAFE_FOR_TEMPLATES&&(ALLOW_DATA_ATTR=!1),RETURN_DOM_FRAGMENT&&(RETURN_DOM=!0),USE_PROFILES&&(ALLOWED_TAGS=addToSet({},[].concat(_toConsumableArray$1(text))),ALLOWED_ATTR=[],!0===USE_PROFILES.html&&(addToSet(ALLOWED_TAGS,html),addToSet(ALLOWED_ATTR,html$1)),!0===USE_PROFILES.svg&&(addToSet(ALLOWED_TAGS,svg),addToSet(ALLOWED_ATTR,svg$1),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.svgFilters&&(addToSet(ALLOWED_TAGS,svgFilters),addToSet(ALLOWED_ATTR,svg$1),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.mathMl&&(addToSet(ALLOWED_TAGS,mathMl),addToSet(ALLOWED_ATTR,mathMl$1),addToSet(ALLOWED_ATTR,xml))),cfg.ADD_TAGS&&(ALLOWED_TAGS===DEFAULT_ALLOWED_TAGS&&(ALLOWED_TAGS=clone(ALLOWED_TAGS)),addToSet(ALLOWED_TAGS,cfg.ADD_TAGS)),cfg.ADD_ATTR&&(ALLOWED_ATTR===DEFAULT_ALLOWED_ATTR&&(ALLOWED_ATTR=clone(ALLOWED_ATTR)),addToSet(ALLOWED_ATTR,cfg.ADD_ATTR)),cfg.ADD_URI_SAFE_ATTR&&addToSet(URI_SAFE_ATTRIBUTES,cfg.ADD_URI_SAFE_ATTR),KEEP_CONTENT&&(ALLOWED_TAGS["#text"]=!0),WHOLE_DOCUMENT&&addToSet(ALLOWED_TAGS,["html","head","body"]),ALLOWED_TAGS.table&&(addToSet(ALLOWED_TAGS,["tbody"]),delete FORBID_TAGS.tbody),freeze&&freeze(cfg),CONFIG=cfg)},_forceRemove=function(node){arrayPush(DOMPurify.removed,{element:node});try{node.parentNode.removeChild(node)}catch(_){node.outerHTML=emptyHTML}},_removeAttribute=function(name,node){try{arrayPush(DOMPurify.removed,{attribute:node.getAttributeNode(name),from:node})}catch(_){arrayPush(DOMPurify.removed,{attribute:null,from:node})}node.removeAttribute(name)},_initDocument=function(dirty){var doc=void 0,leadingWhitespace=void 0;if(FORCE_BODY)dirty="<remove></remove>"+dirty;else{var matches=stringMatch(dirty,/^[\r\n\t ]+/);leadingWhitespace=matches&&matches[0]}var dirtyPayload=trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty;try{doc=(new DOMParser).parseFromString(dirtyPayload,"text/html")}catch(_){}if(removeTitle&&addToSet(FORBID_TAGS,["title"]),!doc||!doc.documentElement){var body=(doc=implementation.createHTMLDocument("")).body;body.parentNode.removeChild(body.parentNode.firstElementChild),body.outerHTML=dirtyPayload}return dirty&&leadingWhitespace&&doc.body.insertBefore(document.createTextNode(leadingWhitespace),doc.body.childNodes[0]||null),getElementsByTagName.call(doc,WHOLE_DOCUMENT?"html":"body")[0]};DOMPurify.isSupported&&function(){try{var doc=_initDocument("<x/><title>&lt;/title&gt;&lt;img&gt;");regExpTest(/<\/title/,doc.querySelector("title").innerHTML)&&(removeTitle=!0)}catch(_){}}();var _createIterator=function(root){return createNodeIterator.call(root.ownerDocument||root,root,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,(function(){return NodeFilter.FILTER_ACCEPT}),!1)},_isClobbered=function(elm){return!(elm instanceof Text||elm instanceof Comment||"string"==typeof elm.nodeName&&"string"==typeof elm.textContent&&"function"==typeof elm.removeChild&&elm.attributes instanceof NamedNodeMap&&"function"==typeof elm.removeAttribute&&"function"==typeof elm.setAttribute&&"string"==typeof elm.namespaceURI)},_isNode=function(object){return"object"===(void 0===Node?"undefined":_typeof(Node))?object instanceof Node:object&&"object"===(void 0===object?"undefined":_typeof(object))&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName},_executeHook=function(entryPoint,currentNode,data){hooks[entryPoint]&&arrayForEach(hooks[entryPoint],(function(hook){hook.call(DOMPurify,currentNode,data,CONFIG)}))},_sanitizeElements=function(currentNode){var content=void 0;if(_executeHook("beforeSanitizeElements",currentNode,null),_isClobbered(currentNode))return _forceRemove(currentNode),!0;var tagName=stringToLowerCase(currentNode.nodeName);if(_executeHook("uponSanitizeElement",currentNode,{tagName:tagName,allowedTags:ALLOWED_TAGS}),("svg"===tagName||"math"===tagName)&&0!==currentNode.querySelectorAll("p, br").length)return _forceRemove(currentNode),!0;if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){if(KEEP_CONTENT&&!FORBID_CONTENTS[tagName]&&"function"==typeof currentNode.insertAdjacentHTML)try{var htmlToInsert=currentNode.innerHTML;currentNode.insertAdjacentHTML("AfterEnd",trustedTypesPolicy?trustedTypesPolicy.createHTML(htmlToInsert):htmlToInsert)}catch(_){}return _forceRemove(currentNode),!0}return"noscript"===tagName&&regExpTest(/<\/noscript/i,currentNode.innerHTML)||"noembed"===tagName&&regExpTest(/<\/noembed/i,currentNode.innerHTML)?(_forceRemove(currentNode),!0):(!SAFE_FOR_JQUERY||currentNode.firstElementChild||currentNode.content&&currentNode.content.firstElementChild||!regExpTest(/</g,currentNode.textContent)||(arrayPush(DOMPurify.removed,{element:currentNode.cloneNode()}),currentNode.innerHTML?currentNode.innerHTML=stringReplace(currentNode.innerHTML,/</g,"&lt;"):currentNode.innerHTML=stringReplace(currentNode.textContent,/</g,"&lt;")),SAFE_FOR_TEMPLATES&&3===currentNode.nodeType&&(content=currentNode.textContent,content=stringReplace(content,MUSTACHE_EXPR$$1," "),content=stringReplace(content,ERB_EXPR$$1," "),currentNode.textContent!==content&&(arrayPush(DOMPurify.removed,{element:currentNode.cloneNode()}),currentNode.textContent=content)),_executeHook("afterSanitizeElements",currentNode,null),!1)},_isValidAttribute=function(lcTag,lcName,value){if(SANITIZE_DOM&&("id"===lcName||"name"===lcName)&&(value in document||value in formElement))return!1;if(ALLOW_DATA_ATTR&&regExpTest(DATA_ATTR$$1,lcName));else if(ALLOW_ARIA_ATTR&&regExpTest(ARIA_ATTR$$1,lcName));else{if(!ALLOWED_ATTR[lcName]||FORBID_ATTR[lcName])return!1;if(URI_SAFE_ATTRIBUTES[lcName]);else if(regExpTest(IS_ALLOWED_URI$$1,stringReplace(value,ATTR_WHITESPACE$$1,"")));else if("src"!==lcName&&"xlink:href"!==lcName&&"href"!==lcName||"script"===lcTag||0!==stringIndexOf(value,"data:")||!DATA_URI_TAGS[lcTag])if(ALLOW_UNKNOWN_PROTOCOLS&&!regExpTest(IS_SCRIPT_OR_DATA$$1,stringReplace(value,ATTR_WHITESPACE$$1,"")));else if(value)return!1}return!0},_sanitizeAttributes=function(currentNode){var attr=void 0,value=void 0,lcName=void 0,idAttr=void 0,l=void 0;_executeHook("beforeSanitizeAttributes",currentNode,null);var attributes=currentNode.attributes;if(attributes){var hookEvent={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ALLOWED_ATTR};for(l=attributes.length;l--;){var _attr=attr=attributes[l],name=_attr.name,namespaceURI=_attr.namespaceURI;if(value=stringTrim(attr.value),lcName=stringToLowerCase(name),hookEvent.attrName=lcName,hookEvent.attrValue=value,hookEvent.keepAttr=!0,hookEvent.forceKeepAttr=void 0,_executeHook("uponSanitizeAttribute",currentNode,hookEvent),value=hookEvent.attrValue,!hookEvent.forceKeepAttr){if("name"===lcName&&"IMG"===currentNode.nodeName&&attributes.id)idAttr=attributes.id,attributes=arraySlice(attributes,[]),_removeAttribute("id",currentNode),_removeAttribute(name,currentNode),arrayIndexOf(attributes,idAttr)>l&&currentNode.setAttribute("id",idAttr.value);else{if("INPUT"===currentNode.nodeName&&"type"===lcName&&"file"===value&&hookEvent.keepAttr&&(ALLOWED_ATTR[lcName]||!FORBID_ATTR[lcName]))continue;"id"===name&&currentNode.setAttribute(name,""),_removeAttribute(name,currentNode)}if(hookEvent.keepAttr)if(SAFE_FOR_JQUERY&&regExpTest(/\/>/i,value))_removeAttribute(name,currentNode);else if(regExpTest(/svg|math/i,currentNode.namespaceURI)&&regExpTest(regExpCreate("</("+arrayJoin(objectKeys(FORBID_CONTENTS),"|")+")","i"),value))_removeAttribute(name,currentNode);else{SAFE_FOR_TEMPLATES&&(value=stringReplace(value,MUSTACHE_EXPR$$1," "),value=stringReplace(value,ERB_EXPR$$1," "));var lcTag=currentNode.nodeName.toLowerCase();if(_isValidAttribute(lcTag,lcName,value))try{namespaceURI?currentNode.setAttributeNS(namespaceURI,name,value):currentNode.setAttribute(name,value),arrayPop(DOMPurify.removed)}catch(_){}}}}_executeHook("afterSanitizeAttributes",currentNode,null)}},_sanitizeShadowDOM=function _sanitizeShadowDOM(fragment){var shadowNode=void 0,shadowIterator=_createIterator(fragment);for(_executeHook("beforeSanitizeShadowDOM",fragment,null);shadowNode=shadowIterator.nextNode();)_executeHook("uponSanitizeShadowNode",shadowNode,null),_sanitizeElements(shadowNode)||(shadowNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(shadowNode.content),_sanitizeAttributes(shadowNode));_executeHook("afterSanitizeShadowDOM",fragment,null)};return DOMPurify.sanitize=function(dirty,cfg){var body=void 0,importedNode=void 0,currentNode=void 0,oldNode=void 0,returnNode=void 0;if(dirty||(dirty="\x3c!--\x3e"),"string"!=typeof dirty&&!_isNode(dirty)){if("function"!=typeof dirty.toString)throw typeErrorCreate("toString is not a function");if("string"!=typeof(dirty=dirty.toString()))throw typeErrorCreate("dirty is not a string, aborting")}if(!DOMPurify.isSupported){if("object"===_typeof(window.toStaticHTML)||"function"==typeof window.toStaticHTML){if("string"==typeof dirty)return window.toStaticHTML(dirty);if(_isNode(dirty))return window.toStaticHTML(dirty.outerHTML)}return dirty}if(SET_CONFIG||_parseConfig(cfg),DOMPurify.removed=[],"string"==typeof dirty&&(IN_PLACE=!1),IN_PLACE);else if(dirty instanceof Node)1===(importedNode=(body=_initDocument("\x3c!--\x3e")).ownerDocument.importNode(dirty,!0)).nodeType&&"BODY"===importedNode.nodeName||"HTML"===importedNode.nodeName?body=importedNode:body.appendChild(importedNode);else{if(!RETURN_DOM&&!SAFE_FOR_TEMPLATES&&!WHOLE_DOCUMENT&&RETURN_TRUSTED_TYPE&&-1===dirty.indexOf("<"))return trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty;if(!(body=_initDocument(dirty)))return RETURN_DOM?null:emptyHTML}body&&FORCE_BODY&&_forceRemove(body.firstChild);for(var nodeIterator=_createIterator(IN_PLACE?dirty:body);currentNode=nodeIterator.nextNode();)3===currentNode.nodeType&&currentNode===oldNode||_sanitizeElements(currentNode)||(currentNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(currentNode.content),_sanitizeAttributes(currentNode),oldNode=currentNode);if(oldNode=null,IN_PLACE)return dirty;if(RETURN_DOM){if(RETURN_DOM_FRAGMENT)for(returnNode=createDocumentFragment.call(body.ownerDocument);body.firstChild;)returnNode.appendChild(body.firstChild);else returnNode=body;return RETURN_DOM_IMPORT&&(returnNode=importNode.call(originalDocument,returnNode,!0)),returnNode}var serializedHTML=WHOLE_DOCUMENT?body.outerHTML:body.innerHTML;return SAFE_FOR_TEMPLATES&&(serializedHTML=stringReplace(serializedHTML,MUSTACHE_EXPR$$1," "),serializedHTML=stringReplace(serializedHTML,ERB_EXPR$$1," ")),trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(serializedHTML):serializedHTML},DOMPurify.setConfig=function(cfg){_parseConfig(cfg),SET_CONFIG=!0},DOMPurify.clearConfig=function(){CONFIG=null,SET_CONFIG=!1},DOMPurify.isValidAttribute=function(tag,attr,value){CONFIG||_parseConfig({});var lcTag=stringToLowerCase(tag),lcName=stringToLowerCase(attr);return _isValidAttribute(lcTag,lcName,value)},DOMPurify.addHook=function(entryPoint,hookFunction){"function"==typeof hookFunction&&(hooks[entryPoint]=hooks[entryPoint]||[],arrayPush(hooks[entryPoint],hookFunction))},DOMPurify.removeHook=function(entryPoint){hooks[entryPoint]&&arrayPop(hooks[entryPoint])},DOMPurify.removeHooks=function(entryPoint){hooks[entryPoint]&&(hooks[entryPoint]=[])},DOMPurify.removeAllHooks=function(){hooks={}},DOMPurify}()}()},function(module,exports,__webpack_require__){"use strict";module.exports=function(fn,thisArg){return function(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);function encode(val){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,(function(val,key){null!=val&&(utils.isArray(val)?key+="[]":val=[val],utils.forEach(val,(function(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+"="+encode(v))})))})),serializedParams=parts.join("&")}if(serializedParams){var hashmarkIndex=url.indexOf("#");-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf("?")?"?":"&")+serializedParams}return url}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return!(!value||!value.__CANCEL__)}},function(module,exports,__webpack_require__){"use strict";(function(process){var utils=__webpack_require__(0),normalizeHeaderName=__webpack_require__(18),DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"])&&(headers["Content-Type"]=value)}var adapter,defaults={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==process&&"[object process]"===Object.prototype.toString.call(process))&&(adapter=__webpack_require__(7)),adapter),transformRequest:[function(data,headers){return normalizeHeaderName(headers,"Accept"),normalizeHeaderName(headers,"Content-Type"),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)?data:utils.isArrayBufferView(data)?data.buffer:utils.isURLSearchParams(data)?(setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8"),data.toString()):utils.isObject(data)?(setContentTypeIfUnset(headers,"application/json;charset=utf-8"),JSON.stringify(data)):data}],transformResponse:[function(data){if("string"==typeof data)try{data=JSON.parse(data)}catch(e){}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(status){return status>=200&&status<300}};defaults.headers={common:{Accept:"application/json, text/plain, */*"}},utils.forEach(["delete","get","head"],(function(method){defaults.headers[method]={}})),utils.forEach(["post","put","patch"],(function(method){defaults.headers[method]=utils.merge(DEFAULT_CONTENT_TYPE)})),module.exports=defaults}).call(this,__webpack_require__(17))},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0),settle=__webpack_require__(19),buildURL=__webpack_require__(4),buildFullPath=__webpack_require__(21),parseHeaders=__webpack_require__(24),isURLSameOrigin=__webpack_require__(25),createError=__webpack_require__(8);module.exports=function(config){return new Promise((function(resolve,reject){var requestData=config.data,requestHeaders=config.headers;utils.isFormData(requestData)&&delete requestHeaders["Content-Type"];var request=new XMLHttpRequest;if(config.auth){var username=config.auth.username||"",password=config.auth.password||"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}var fullPath=buildFullPath(config.baseURL,config.url);if(request.open(config.method.toUpperCase(),buildURL(fullPath,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,request.onreadystatechange=function(){if(request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf("file:"))){var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null,response={data:config.responseType&&"text"!==config.responseType?request.response:request.responseText,status:request.status,statusText:request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response),request=null}},request.onabort=function(){request&&(reject(createError("Request aborted",config,"ECONNABORTED",request)),request=null)},request.onerror=function(){reject(createError("Network Error",config,null,request)),request=null},request.ontimeout=function(){var timeoutErrorMessage="timeout of "+config.timeout+"ms exceeded";config.timeoutErrorMessage&&(timeoutErrorMessage=config.timeoutErrorMessage),reject(createError(timeoutErrorMessage,config,"ECONNABORTED",request)),request=null},utils.isStandardBrowserEnv()){var cookies=__webpack_require__(26),xsrfValue=(config.withCredentials||isURLSameOrigin(fullPath))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}if("setRequestHeader"in request&&utils.forEach(requestHeaders,(function(val,key){void 0===requestData&&"content-type"===key.toLowerCase()?delete requestHeaders[key]:request.setRequestHeader(key,val)})),utils.isUndefined(config.withCredentials)||(request.withCredentials=!!config.withCredentials),config.responseType)try{request.responseType=config.responseType}catch(e){if("json"!==config.responseType)throw e}"function"==typeof config.onDownloadProgress&&request.addEventListener("progress",config.onDownloadProgress),"function"==typeof config.onUploadProgress&&request.upload&&request.upload.addEventListener("progress",config.onUploadProgress),config.cancelToken&&config.cancelToken.promise.then((function(cancel){request&&(request.abort(),reject(cancel),request=null)})),void 0===requestData&&(requestData=null),request.send(requestData)}))}},function(module,exports,__webpack_require__){"use strict";var enhanceError=__webpack_require__(20);module.exports=function(message,config,code,request,response){var error=new Error(message);return enhanceError(error,config,code,request,response)}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=function(config1,config2){config2=config2||{};var config={},valueFromConfig2Keys=["url","method","params","data"],mergeDeepPropertiesKeys=["headers","auth","proxy"],defaultToConfig2Keys=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];utils.forEach(valueFromConfig2Keys,(function(prop){void 0!==config2[prop]&&(config[prop]=config2[prop])})),utils.forEach(mergeDeepPropertiesKeys,(function(prop){utils.isObject(config2[prop])?config[prop]=utils.deepMerge(config1[prop],config2[prop]):void 0!==config2[prop]?config[prop]=config2[prop]:utils.isObject(config1[prop])?config[prop]=utils.deepMerge(config1[prop]):void 0!==config1[prop]&&(config[prop]=config1[prop])})),utils.forEach(defaultToConfig2Keys,(function(prop){void 0!==config2[prop]?config[prop]=config2[prop]:void 0!==config1[prop]&&(config[prop]=config1[prop])}));var axiosKeys=valueFromConfig2Keys.concat(mergeDeepPropertiesKeys).concat(defaultToConfig2Keys),otherKeys=Object.keys(config2).filter((function(key){return-1===axiosKeys.indexOf(key)}));return utils.forEach(otherKeys,(function(prop){void 0!==config2[prop]?config[prop]=config2[prop]:void 0!==config1[prop]&&(config[prop]=config1[prop])})),config}},function(module,exports,__webpack_require__){"use strict";function Cancel(message){this.message=message}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,module.exports=Cancel},function(module,exports,__webpack_require__){module.exports=__webpack_require__(29)},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0),bind=__webpack_require__(3),Axios=__webpack_require__(13),mergeConfig=__webpack_require__(9);function createInstance(defaultConfig){var context=new Axios(defaultConfig),instance=bind(Axios.prototype.request,context);return utils.extend(instance,Axios.prototype,context),utils.extend(instance,context),instance}var axios=createInstance(__webpack_require__(6));axios.Axios=Axios,axios.create=function(instanceConfig){return createInstance(mergeConfig(axios.defaults,instanceConfig))},axios.Cancel=__webpack_require__(10),axios.CancelToken=__webpack_require__(27),axios.isCancel=__webpack_require__(5),axios.all=function(promises){return Promise.all(promises)},axios.spread=__webpack_require__(28),module.exports=axios,module.exports.default=axios},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0),buildURL=__webpack_require__(4),InterceptorManager=__webpack_require__(14),dispatchRequest=__webpack_require__(15),mergeConfig=__webpack_require__(9);function Axios(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios.prototype.request=function(config){"string"==typeof config?(config=arguments[1]||{}).url=arguments[0]:config=config||{},(config=mergeConfig(this.defaults,config)).method?config.method=config.method.toLowerCase():this.defaults.method?config.method=this.defaults.method.toLowerCase():config.method="get";var chain=[dispatchRequest,void 0],promise=Promise.resolve(config);for(this.interceptors.request.forEach((function(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)})),this.interceptors.response.forEach((function(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)}));chain.length;)promise=promise.then(chain.shift(),chain.shift());return promise},Axios.prototype.getUri=function(config){return config=mergeConfig(this.defaults,config),buildURL(config.url,config.params,config.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],(function(method){Axios.prototype[method]=function(url,config){return this.request(utils.merge(config||{},{method:method,url:url}))}})),utils.forEach(["post","put","patch"],(function(method){Axios.prototype[method]=function(url,data,config){return this.request(utils.merge(config||{},{method:method,url:url,data:data}))}})),module.exports=Axios},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(fulfilled,rejected){return this.handlers.push({fulfilled:fulfilled,rejected:rejected}),this.handlers.length-1},InterceptorManager.prototype.eject=function(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function(fn){utils.forEach(this.handlers,(function(h){null!==h&&fn(h)}))},module.exports=InterceptorManager},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0),transformData=__webpack_require__(16),isCancel=__webpack_require__(5),defaults=__webpack_require__(6);function throwIfCancellationRequested(config){config.cancelToken&&config.cancelToken.throwIfRequested()}module.exports=function(config){return throwIfCancellationRequested(config),config.headers=config.headers||{},config.data=transformData(config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers),utils.forEach(["delete","get","head","post","put","patch","common"],(function(method){delete config.headers[method]})),(config.adapter||defaults.adapter)(config).then((function(response){return throwIfCancellationRequested(config),response.data=transformData(response.data,response.headers,config.transformResponse),response}),(function(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData(reason.response.data,reason.response.headers,config.transformResponse))),Promise.reject(reason)}))}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=function(data,headers,fns){return utils.forEach(fns,(function(fn){data=fn(data,headers)})),data}},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=function(headers,normalizedName){utils.forEach(headers,(function(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])}))}},function(module,exports,__webpack_require__){"use strict";var createError=__webpack_require__(8);module.exports=function(resolve,reject,response){var validateStatus=response.config.validateStatus;!validateStatus||validateStatus(response.status)?resolve(response):reject(createError("Request failed with status code "+response.status,response.config,null,response.request,response))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(error,config,code,request,response){return error.config=config,code&&(error.code=code),error.request=request,error.response=response,error.isAxiosError=!0,error.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},error}},function(module,exports,__webpack_require__){"use strict";var isAbsoluteURL=__webpack_require__(22),combineURLs=__webpack_require__(23);module.exports=function(baseURL,requestedURL){return baseURL&&!isAbsoluteURL(requestedURL)?combineURLs(baseURL,requestedURL):requestedURL}},function(module,exports,__webpack_require__){"use strict";module.exports=function(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0),ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(headers){var key,val,i,parsed={};return headers?(utils.forEach(headers.split("\n"),(function(line){if(i=line.indexOf(":"),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key){if(parsed[key]&&ignoreDuplicateOf.indexOf(key)>=0)return;parsed[key]="set-cookie"===key?(parsed[key]?parsed[key]:[]).concat([val]):parsed[key]?parsed[key]+", "+val:val}})),parsed):parsed}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=utils.isStandardBrowserEnv()?function(){var originURL,msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a");function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}return originURL=resolveURL(window.location.href),function(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function(){return!0}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=utils.isStandardBrowserEnv()?{write:function(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read:function(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function(name){this.write(name,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(module,exports,__webpack_require__){"use strict";var Cancel=__webpack_require__(10);function CancelToken(executor){if("function"!=typeof executor)throw new TypeError("executor must be a function.");var resolvePromise;this.promise=new Promise((function(resolve){resolvePromise=resolve}));var token=this;executor((function(message){token.reason||(token.reason=new Cancel(message),resolvePromise(token.reason))}))}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var cancel;return{token:new CancelToken((function(c){cancel=c})),cancel:cancel}},module.exports=CancelToken},function(module,exports,__webpack_require__){"use strict";module.exports=function(callback){return function(arr){return callback.apply(null,arr)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function noop(){}__webpack_require__.r(__webpack_exports__);function internal_run(fn){return fn()}function blank_object(){return Object.create(null)}function run_all(fns){fns.forEach(internal_run)}function is_function(thing){return"function"==typeof thing}function safe_not_equal(a,b){return a!=a?b==b:a!==b||a&&"object"==typeof a||"function"==typeof a}function internal_subscribe(store,callback){const unsub=store.subscribe(callback);return unsub.unsubscribe?()=>unsub.unsubscribe():unsub}function get_store_value(store){let value;return internal_subscribe(store,_=>value=_)(),value}new Set;function append(target,node){target.appendChild(node)}function insert(target,node,anchor){target.insertBefore(node,anchor||null)}function detach(node){node.parentNode.removeChild(node)}function destroy_each(iterations,detaching){for(let i=0;i<iterations.length;i+=1)iterations[i]&&iterations[i].d(detaching)}function internal_element(name){return document.createElement(name)}function internal_text(data){return document.createTextNode(data)}function space(){return internal_text(" ")}function empty(){return internal_text("")}function listen(node,event,handler,options){return node.addEventListener(event,handler,options),()=>node.removeEventListener(event,handler,options)}function attr(node,attribute,value){null==value?node.removeAttribute(attribute):node.getAttribute(attribute)!==value&&node.setAttribute(attribute,value)}function set_style(node,key,value,important){node.style.setProperty(key,value,important?"important":"")}function toggle_class(element,name,toggle){element.classList[toggle?"add":"remove"](name)}let current_component;function set_current_component(component){current_component=component}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(fn){get_current_component().$$.on_mount.push(fn)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(fn){render_callbacks.push(fn)}function flush(){const seen_callbacks=new Set;do{for(;dirty_components.length;){const component=dirty_components.shift();set_current_component(component),internal_update(component.$$)}for(;binding_callbacks.length;)binding_callbacks.pop()();for(let i=0;i<render_callbacks.length;i+=1){const callback=render_callbacks[i];seen_callbacks.has(callback)||(callback(),seen_callbacks.add(callback))}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1}function internal_update($$){if(null!==$$.fragment){$$.update(),run_all($$.before_update);const dirty=$$.dirty;$$.dirty=[-1],$$.fragment&&$$.fragment.p($$.ctx,dirty),$$.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(block,local){block&&block.i&&(outroing.delete(block),block.i(local))}function transition_out(block,local,detach,callback){if(block&&block.o){if(outroing.has(block))return;outroing.add(block),outros.c.push(()=>{outroing.delete(block),callback&&(detach&&block.d(1),callback())}),block.o(local)}}"undefined"!=typeof window?window:global;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let SvelteElement;function create_component(block){block&&block.c()}function mount_component(component,target,anchor){const{fragment:fragment,on_mount:on_mount,on_destroy:on_destroy,after_update:after_update}=component.$$;fragment&&fragment.m(target,anchor),add_render_callback(()=>{const new_on_destroy=on_mount.map(internal_run).filter(is_function);on_destroy?on_destroy.push(...new_on_destroy):run_all(new_on_destroy),component.$$.on_mount=[]}),after_update.forEach(add_render_callback)}function destroy_component(component,detaching){const $$=component.$$;null!==$$.fragment&&(run_all($$.on_destroy),$$.fragment&&$$.fragment.d(detaching),$$.on_destroy=$$.fragment=null,$$.ctx=[])}function init(component,options,instance,create_fragment,not_equal,props,dirty=[-1]){const parent_component=current_component;set_current_component(component);const prop_values=options.props||{},$$=component.$$={fragment:null,ctx:null,props:props,update:noop,not_equal:not_equal,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(parent_component?parent_component.$$.context:[]),callbacks:blank_object(),dirty:dirty};let ready=!1;var element;$$.ctx=instance?instance(component,prop_values,(i,ret,value=ret)=>($$.ctx&&not_equal($$.ctx[i],$$.ctx[i]=value)&&($$.bound[i]&&$$.bound[i](value),ready&&function(component,i){-1===component.$$.dirty[0]&&(dirty_components.push(component),schedule_update(),component.$$.dirty.fill(0)),component.$$.dirty[i/31|0]|=1<<i%31}(component,i)),ret)):[],$$.update(),ready=!0,run_all($$.before_update),$$.fragment=!!create_fragment&&create_fragment($$.ctx),options.target&&(options.hydrate?$$.fragment&&$$.fragment.l((element=options.target,Array.from(element.childNodes))):$$.fragment&&$$.fragment.c(),options.intro&&transition_in(component.$$.fragment),mount_component(component,options.target,options.anchor),flush()),set_current_component(parent_component)}"function"==typeof HTMLElement&&(SvelteElement=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const key in this.$$.slotted)this.appendChild(this.$$.slotted[key])}attributeChangedCallback(attr,_oldValue,newValue){this[attr]=newValue}$destroy(){destroy_component(this,1),this.$destroy=noop}$on(type,callback){const callbacks=this.$$.callbacks[type]||(this.$$.callbacks[type]=[]);return callbacks.push(callback),()=>{const index=callbacks.indexOf(callback);-1!==index&&callbacks.splice(index,1)}}$set(){}});class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(type,callback){const callbacks=this.$$.callbacks[type]||(this.$$.callbacks[type]=[]);return callbacks.push(callback),()=>{const index=callbacks.indexOf(callback);-1!==index&&callbacks.splice(index,1)}}$set(){}}function create_fragment(ctx){let div,dispose;return{c(){div=internal_element("div"),attr(div,"class","dc-embed-note svelte-xet5f3"),set_style(div,"left",100*ctx[0].x1+"%"),set_style(div,"top",100*ctx[0].y1+"%"),set_style(div,"right",100*(1-ctx[0].x2)+"%"),set_style(div,"bottom",100*(1-ctx[0].y2)+"%"),toggle_class(div,"public","public"==ctx[0].access),toggle_class(div,"organization","organization"==ctx[0].access),toggle_class(div,"private","private"==ctx[0].access),toggle_class(div,"active",ctx[1]),dispose=listen(div,"click",ctx[2])},m(target,anchor){insert(target,div,anchor)},p(ctx,[dirty]){1&dirty&&set_style(div,"left",100*ctx[0].x1+"%"),1&dirty&&set_style(div,"top",100*ctx[0].y1+"%"),1&dirty&&set_style(div,"right",100*(1-ctx[0].x2)+"%"),1&dirty&&set_style(div,"bottom",100*(1-ctx[0].y2)+"%"),1&dirty&&toggle_class(div,"public","public"==ctx[0].access),1&dirty&&toggle_class(div,"organization","organization"==ctx[0].access),1&dirty&&toggle_class(div,"private","private"==ctx[0].access),2&dirty&&toggle_class(div,"active",ctx[1])},i:noop,o:noop,d(detaching){detaching&&detach(div),dispose()}}}function instance($$self,$$props,$$invalidate){let{note:note}=$$props,{active:active=!1}=$$props;return $$self.$set=$$props=>{"note"in $$props&&$$invalidate(0,note=$$props.note),"active"in $$props&&$$invalidate(1,active=$$props.active)},[note,active,function(event){!function(component,event){const callbacks=component.$$.callbacks[event.type];callbacks&&callbacks.slice().forEach(fn=>fn(event))}($$self,event)}]}var Note_svelte=class extends SvelteComponent{constructor(options){var style;super(),document.getElementById("svelte-xet5f3-style")||((style=internal_element("style")).id="svelte-xet5f3-style",style.textContent=".dc-embed-note.svelte-xet5f3{display:inline-block;position:absolute;background:rgba(255, 255, 0, 0.2);cursor:pointer}.dc-embed-note.svelte-xet5f3:hover{box-shadow:1px 2px 7px rgba(0, 0, 0, 0.2)}.dc-embed-note.public.svelte-xet5f3{border:3px solid #ffe325;background:rgba(255, 227, 37, 0.2)}.dc-embed-note.organization.svelte-xet5f3{border:3px solid #93e48f;background:rgba(147, 228, 143, 0.2)}.dc-embed-note.private.svelte-xet5f3{border:3px solid #6bc2f8;background:rgba(107, 194, 248, 0.2)}.dc-embed-note.active.svelte-xet5f3{background:transparent;border:none;box-shadow:1px 2px 7px rgba(0, 0, 0, 0.2)}",append(document.head,style)),init(this,options,instance,create_fragment,safe_not_equal,{note:0,active:1})}},purify=__webpack_require__(2),purify_default=__webpack_require__.n(purify);function Annotation_svelte_create_fragment(ctx){let div1,h1,a,t0,t1,div0,div1_style_value,t0_value=ctx[0].title+"",raw_value=purify_default.a.sanitize(ctx[0].content)+"";return{c(){div1=internal_element("div"),h1=internal_element("h1"),a=internal_element("a"),t0=internal_text(t0_value),t1=space(),div0=internal_element("div"),attr(a,"href",ctx[2]),attr(a,"target","_blank"),attr(a,"class","svelte-336ijq"),attr(h1,"class","svelte-336ijq"),attr(div0,"class","content svelte-336ijq"),attr(div1,"class","dc-embed-annotation svelte-336ijq"),attr(div1,"style",div1_style_value=ctx[3]+";"+ctx[4])},m(target,anchor){insert(target,div1,anchor),append(div1,h1),append(h1,a),append(a,t0),append(div1,t1),append(div1,div0),div0.innerHTML=raw_value,ctx[10](div1)},p(ctx,[dirty]){var text,data;1&dirty&&t0_value!==(t0_value=ctx[0].title+"")&&(data=""+(data=t0_value),(text=t0).data!==data&&(text.data=data)),4&dirty&&attr(a,"href",ctx[2]),1&dirty&&raw_value!==(raw_value=purify_default.a.sanitize(ctx[0].content)+"")&&(div0.innerHTML=raw_value),24&dirty&&div1_style_value!==(div1_style_value=ctx[3]+";"+ctx[4])&&attr(div1,"style",div1_style_value)},i:noop,o:noop,d(detaching){detaching&&detach(div1),ctx[10](null)}}}function Annotation_svelte_instance($$self,$$props,$$invalidate){const APP_URL="https://www.staging.documentcloud.org/";let annotationElem,noteUrl,leftRightStyle,topDownStyle,{note:note}=$$props,{slugId:slugId}=$$props,{page:page}=$$props,rightMount=!1,bottomMount=!1;return onMount(()=>{const container=function nearestParent(elem,className){return-1!=elem.className.indexOf(className)?elem:nearestParent(elem.parentElement,className)}(annotationElem,"dc-embed-container");annotationElem.offsetWidth+annotationElem.offsetLeft>container.offsetWidth-10&&$$invalidate(7,rightMount=!0),annotationElem.offsetHeight+annotationElem.offsetTop>container.offsetHeight-10&&$$invalidate(8,bottomMount=!0)}),$$self.$set=$$props=>{"note"in $$props&&$$invalidate(0,note=$$props.note),"slugId"in $$props&&$$invalidate(5,slugId=$$props.slugId),"page"in $$props&&$$invalidate(6,page=$$props.page)},$$self.$$.update=()=>{97&$$self.$$.dirty&&$$invalidate(2,noteUrl=`${APP_URL}documents/${slugId}#document/p${page}/a${note.id}`),129&$$self.$$.dirty&&$$invalidate(3,leftRightStyle=rightMount?`right:${100*(1-note.x2)}%`:`left:${100*note.x1}%`),257&$$self.$$.dirty&&$$invalidate(4,topDownStyle=bottomMount?`bottom:${100*(1-note.y1)}%`:`top:${100*note.y2}%`)},[note,annotationElem,noteUrl,leftRightStyle,topDownStyle,slugId,page,rightMount,bottomMount,APP_URL,function($$value){binding_callbacks[$$value?"unshift":"push"](()=>{$$invalidate(1,annotationElem=$$value)})}]}var Annotation_svelte=class extends SvelteComponent{constructor(options){var style;super(),document.getElementById("svelte-336ijq-style")||((style=internal_element("style")).id="svelte-336ijq-style",style.textContent=".dc-embed-annotation.svelte-336ijq.svelte-336ijq{max-height:156px;position:absolute;background-color:#ebebeb;overflow-y:auto;padding:8px 16px;box-sizing:border-box;min-width:200px;max-width:400px;line-height:1.2;font-size:14px}.dc-embed-annotation.svelte-336ijq h1.svelte-336ijq{font-weight:700;margin:10px 0;font-size:14px}.dc-embed-annotation.svelte-336ijq .content.svelte-336ijq{margin:10px 0}.dc-embed-annotation.svelte-336ijq a.svelte-336ijq{text-decoration:none}.dc-embed-annotation.svelte-336ijq a.svelte-336ijq:hover{text-decoration:underline}",append(document.head,style)),init(this,options,Annotation_svelte_instance,Annotation_svelte_create_fragment,safe_not_equal,{note:0,slugId:5,page:6})}},axios=__webpack_require__(1),axios_default=__webpack_require__.n(axios);const session=axios_default.a.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken",withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}});session.interceptors.response.use(response=>response,error=>error.response&&error.response.data?Promise.reject({errorData:error.response.data}):Promise.reject(error));const sessionCache=new class{constructor(){this.cached=[],this.cachedByUrl={}}trimCache(){for(;this.cached.length>50;){const{url:url}=this.cached.shift();delete this.cachedByUrl[url]}}cache(url,contents){this.cached.push({url:url,contents:contents}),this.cachedByUrl[url]=contents,this.trimCache()}has(url){return this.cachedByUrl.hasOwnProperty(url)}lookup(url){return this.has(url)?this.cachedByUrl[url]:null}};session.getStatic=async function(url){if(sessionCache.has(url))return sessionCache.lookup(url);if(url.startsWith("https://api.staging.documentcloud.org")){const redirectUrl=(await session.get(url)).data.location,result=(await axios_default.a.get(redirectUrl)).data;return sessionCache.cache(url,result),result}{const result=(await axios_default.a.get(url)).data;return sessionCache.cache(url,result),result}};var api_session=session;const subscriber_queue=[];function writable(value,start=noop){let stop;const subscribers=[];function set(new_value){if(safe_not_equal(value,new_value)&&(value=new_value,stop)){const run_queue=!subscriber_queue.length;for(let i=0;i<subscribers.length;i+=1){const s=subscribers[i];s[1](),subscriber_queue.push(s,value)}if(run_queue){for(let i=0;i<subscriber_queue.length;i+=2)subscriber_queue[i][0](subscriber_queue[i+1]);subscriber_queue.length=0}}}return{set:set,update:function(fn){set(fn(value))},subscribe:function(run,invalidate=noop){const subscriber=[run,invalidate];return subscribers.push(subscriber),1===subscribers.length&&(stop=start(set)||noop),run(value),()=>{const index=subscribers.indexOf(subscriber);-1!==index&&subscribers.splice(index,1),0===subscribers.length&&(stop(),stop=null)}}}}function derived(stores,fn,initial_value){const single=!Array.isArray(stores),stores_array=single?[stores]:stores,auto=fn.length<2;return{subscribe:writable(initial_value,set=>{let inited=!1;const values=[];let pending=0,cleanup=noop;const sync=()=>{if(pending)return;cleanup();const result=fn(single?values[0]:values,set);auto?set(result):cleanup=is_function(result)?result:noop},unsubscribers=stores_array.map((store,i)=>store.subscribe(value=>{values[i]=value,pending&=~(1<<i),inited&&sync()},()=>{pending|=1<<i}));return inited=!0,sync(),function(){run_all(unsubscribers),cleanup()}}).subscribe}}const STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ARGUMENT_NAMES=/([^\s,]+)/g,QUICK_ARROW=/^\s*([a-zA-Z0-9$_]+)\s*=>/;function getParamNames(func){const fnStr=func.toString().replace(STRIP_COMMENTS,""),quickMatch=fnStr.match(QUICK_ARROW);if(null!=quickMatch)return[quickMatch[1]];const result=fnStr.slice(fnStr.indexOf("(")+1,fnStr.indexOf(")")).match(ARGUMENT_NAMES);if(null===result)return[];const arrowIdx=result.indexOf("=>");return-1!=arrowIdx?result.slice(0,arrowIdx):result}class svue_Svue{constructor(structure){this.data={},this.writables={},this.subscribeId=0,this.subscribers={},null!=structure.data&&this.initData(structure.data),null!=structure.computed&&this.initComputed(structure.computed),null!=structure.watch&&this.initWatch(structure.watch)}subscribe(fn){fn(this);const subscribeId=this.subscribeId++;return this.subscribers[subscribeId]=fn,()=>{delete this.subscribers[subscribeId]}}pingSubscriptions(){Object.keys(this.subscribers).forEach(subscriber=>{this.subscribers[subscriber](this)})}initData(data){const destructured=data();Object.keys(destructured).forEach(key=>{let w=destructured[key];null!=w&&w.set&&w.subscribe||(w=writable(w)),this.writables[key]=w,Object.defineProperty(this,key,{get:()=>get_store_value(w),set(newValue){w.set(newValue)}}),w.subscribe(()=>this.pingSubscriptions())})}initComputed(computed){const keys=Object.keys(computed);for(;0!=keys.length;){let matched=!1;for(let i=0;i<keys.length;i++){const key=keys[i],args=getParamNames(computed[key]);if(!args.every(arg=>null!=this.writables[arg]))continue;matched=!0;const d=derived(args.map(a=>this.writables[a]),(args,setFn)=>{const result=computed[key].bind(this)(...args);result&&"function"==typeof result.then?result.then(x=>setFn(x)):setFn(result)});this.writables[key]=d,Object.defineProperty(this,key,{get:()=>get_store_value(d)}),d.subscribe(()=>this.pingSubscriptions()),keys.splice(i,1),i--}if(!matched)throw new Error("INVALID COMPUTED")}}initWatch(watch){Object.keys(watch).forEach(key=>{key.split(".").reduce((x,k)=>x.writables[k],this).subscribe(watch[key].bind(this))})}set(key,value){if(!(key instanceof svue_Svue)){if(null==this.writables[key])throw new Error("Invalid key: "+key);this.writables[key].set(value)}}update(fn){let key=getParamNames(fn);if(key.length>1)throw new Error("Only specify one arg for update");if(key=key[0],null==this.writables[key])throw new Error("Invalid key: "+key);this.writables[key].update(fn)}get(key){return get_store_value(this.writables[key])}}function getDefault(obj,defaultValue=""){return null==obj?defaultValue:obj}class note_Note extends svue_Svue{constructor(rawNote,structure={}){super({data(){const data=null==structure.data?{}:structure.data();return data.note=rawNote,data},computed:{...null==structure.computed?{}:structure.computed,id:note=>note.id,title:note=>getDefault(note.title),content:note=>getDefault(note.content),access:note=>getDefault(note.access,"private"),page:note=>note.page_number,isPageNote:note=>null==note.x1,x1:note=>note.x1,x2:note=>note.x2,y1:note=>note.y1,y2:note=>note.y2,width:(x1,x2)=>x2-x1,height:(y1,y2)=>y2-y1,username:note=>getDefault(note.user,{name:""}).name,organization(note){const org=getDefault(note.organization,{});return org.individual?null:org.name}}})}}function apiUrl(url){return"https://api.staging.documentcloud.org/api/"+url}function urlParts(url){const qIndex=url.indexOf("?");return-1==qIndex?[url,null]:[url.substr(0,qIndex),url.substr(qIndex+1)]}function getQueryStringParamsFromQuery(query){return null==query?{}:query.split("&").reduce((params,param)=>{let[key,value]=param.split("=");return params[key]=value?decodeURIComponent(value.replace(/\+/g," ")):"",params},{})}function queryBuilder(baseUrl,params,cleanSlate=!1){null==baseUrl&&(baseUrl=window.location.pathname+window.location.search);const[url,query]=urlParts(baseUrl),oldParams=cleanSlate?{}:getQueryStringParamsFromQuery(query);for(const prop in params)params.hasOwnProperty(prop)&&(oldParams[prop]=params[prop]);let result="",prefix="?";for(const prop in oldParams)if(oldParams.hasOwnProperty(prop)){const key=prop,value=oldParams[key];if(null==value)continue;result+=`${prefix}${key}=${encodeURIComponent(value)}`,prefix="&"}return`${url}${result}`}const MAX_PER_PAGE=parseInt("100");async function grabAllPages(url,perPage=MAX_PER_PAGE){null!=perPage&&(url=queryBuilder(url,{per_page:perPage}));const{data:data}=await api_session.get(url),results=data.results;if(null!=data.next){const next=await grabAllPages(data.next);return results.concat(next)}return results}const DEFAULT_EXPAND=["user","organization"].join(",");function get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[10]=list[i],child_ctx}function get_each_context_1(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[13]=list[i],child_ctx}function create_if_block_1(ctx){let current;const note=new Note_svelte({props:{note:ctx[13]}});return note.$on("click",(function(...args){return ctx[7](ctx[13],...args)})),{c(){create_component(note.$$.fragment)},m(target,anchor){mount_component(note,target,anchor),current=!0},p(new_ctx,dirty){ctx=new_ctx;const note_changes={};4&dirty&&(note_changes.note=ctx[13]),note.$set(note_changes)},i(local){current||(transition_in(note.$$.fragment,local),current=!0)},o(local){transition_out(note.$$.fragment,local),current=!1},d(detaching){destroy_component(note,detaching)}}}function create_each_block_1(ctx){let if_block_anchor,current,if_block=ctx[3]!=ctx[13]&&create_if_block_1(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=empty()},m(target,anchor){if_block&&if_block.m(target,anchor),insert(target,if_block_anchor,anchor),current=!0},p(ctx,dirty){ctx[3]!=ctx[13]?if_block?(if_block.p(ctx,dirty),transition_in(if_block,1)):(if_block=create_if_block_1(ctx),if_block.c(),transition_in(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(group_outros(),transition_out(if_block,1,1,()=>{if_block=null}),check_outros())},i(local){current||(transition_in(if_block),current=!0)},o(local){transition_out(if_block),current=!1},d(detaching){if_block&&if_block.d(detaching),detaching&&detach(if_block_anchor)}}}function create_each_block(ctx){let div,dispose;return{c(){div=internal_element("div"),attr(div,"class","dc-embed-shim svelte-sm1qeg"),set_style(div,"left",100*ctx[10][0]+"%"),set_style(div,"top",100*ctx[10][1]+"%"),set_style(div,"right",100*(1-ctx[10][2])+"%"),set_style(div,"bottom",100*(1-ctx[10][3])+"%"),dispose=listen(div,"click",ctx[8])},m(target,anchor){insert(target,div,anchor)},p(ctx,dirty){16&dirty&&set_style(div,"left",100*ctx[10][0]+"%"),16&dirty&&set_style(div,"top",100*ctx[10][1]+"%"),16&dirty&&set_style(div,"right",100*(1-ctx[10][2])+"%"),16&dirty&&set_style(div,"bottom",100*(1-ctx[10][3])+"%")},d(detaching){detaching&&detach(div),dispose()}}}function create_if_block(ctx){let t,current;const annotation=new Annotation_svelte({props:{note:ctx[3],slugId:ctx[0],page:ctx[1]}}),note=new Note_svelte({props:{active:!0,note:ctx[3]}});return note.$on("click",ctx[9]),{c(){create_component(annotation.$$.fragment),t=space(),create_component(note.$$.fragment)},m(target,anchor){mount_component(annotation,target,anchor),insert(target,t,anchor),mount_component(note,target,anchor),current=!0},p(ctx,dirty){const annotation_changes={};8&dirty&&(annotation_changes.note=ctx[3]),1&dirty&&(annotation_changes.slugId=ctx[0]),2&dirty&&(annotation_changes.page=ctx[1]),annotation.$set(annotation_changes);const note_changes={};8&dirty&&(note_changes.note=ctx[3]),note.$set(note_changes)},i(local){current||(transition_in(annotation.$$.fragment,local),transition_in(note.$$.fragment,local),current=!0)},o(local){transition_out(annotation.$$.fragment,local),transition_out(note.$$.fragment,local),current=!1},d(detaching){destroy_component(annotation,detaching),detaching&&detach(t),destroy_component(note,detaching)}}}function Page_svelte_create_fragment(ctx){let t0,t1,if_block_anchor,current,each_value_1=ctx[2],each_blocks_1=[];for(let i=0;i<each_value_1.length;i+=1)each_blocks_1[i]=create_each_block_1(get_each_context_1(ctx,each_value_1,i));const out=i=>transition_out(each_blocks_1[i],1,1,()=>{each_blocks_1[i]=null});let each_value=ctx[4],each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=create_each_block(get_each_context(ctx,each_value,i));let if_block=null!=ctx[3]&&create_if_block(ctx);return{c(){for(let i=0;i<each_blocks_1.length;i+=1)each_blocks_1[i].c();t0=space();for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();t1=space(),if_block&&if_block.c(),if_block_anchor=empty()},m(target,anchor){for(let i=0;i<each_blocks_1.length;i+=1)each_blocks_1[i].m(target,anchor);insert(target,t0,anchor);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);insert(target,t1,anchor),if_block&&if_block.m(target,anchor),insert(target,if_block_anchor,anchor),current=!0},p(ctx,[dirty]){if(44&dirty){let i;for(each_value_1=ctx[2],i=0;i<each_value_1.length;i+=1){const child_ctx=get_each_context_1(ctx,each_value_1,i);each_blocks_1[i]?(each_blocks_1[i].p(child_ctx,dirty),transition_in(each_blocks_1[i],1)):(each_blocks_1[i]=create_each_block_1(child_ctx),each_blocks_1[i].c(),transition_in(each_blocks_1[i],1),each_blocks_1[i].m(t0.parentNode,t0))}for(group_outros(),i=each_value_1.length;i<each_blocks_1.length;i+=1)out(i);check_outros()}if(24&dirty){let i;for(each_value=ctx[4],i=0;i<each_value.length;i+=1){const child_ctx=get_each_context(ctx,each_value,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=create_each_block(child_ctx),each_blocks[i].c(),each_blocks[i].m(t1.parentNode,t1))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value.length}null!=ctx[3]?if_block?(if_block.p(ctx,dirty),transition_in(if_block,1)):(if_block=create_if_block(ctx),if_block.c(),transition_in(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(group_outros(),transition_out(if_block,1,1,()=>{if_block=null}),check_outros())},i(local){if(!current){for(let i=0;i<each_value_1.length;i+=1)transition_in(each_blocks_1[i]);transition_in(if_block),current=!0}},o(local){each_blocks_1=each_blocks_1.filter(Boolean);for(let i=0;i<each_blocks_1.length;i+=1)transition_out(each_blocks_1[i]);transition_out(if_block),current=!1},d(detaching){destroy_each(each_blocks_1,detaching),detaching&&detach(t0),destroy_each(each_blocks,detaching),detaching&&detach(t1),if_block&&if_block.d(detaching),detaching&&detach(if_block_anchor)}}}function Page_svelte_instance($$self,$$props,$$invalidate){let{id:id}=$$props,{slugId:slugId}=$$props,{page:page}=$$props,notes=[],active=null;function handleClick(note){active!=note?null==active&&$$invalidate(3,active=note):$$invalidate(3,active=null)}onMount(async()=>{$$invalidate(2,notes=(await async function(id,expand=DEFAULT_EXPAND){return(await grabAllPages(apiUrl(queryBuilder(`documents/${id}/notes/`,{expand:expand})))).map(result=>new note_Note(result))}(id,"")).filter(note=>!note.isPageNote&&note.page==page-1))});let shimPlacements;return $$self.$set=$$props=>{"id"in $$props&&$$invalidate(6,id=$$props.id),"slugId"in $$props&&$$invalidate(0,slugId=$$props.slugId),"page"in $$props&&$$invalidate(1,page=$$props.page)},$$self.$$.update=()=>{8&$$self.$$.dirty&&$$invalidate(4,shimPlacements=null==active?[]:[[0,0,1,active.y1],[0,active.y1,active.x1,active.y2],[active.x2,active.y1,1,active.y2],[0,active.y2,1,1]])},[slugId,page,notes,active,shimPlacements,handleClick,id,note=>handleClick(note),()=>$$invalidate(3,active=null),()=>handleClick(active)]}var Page_svelte=class extends SvelteComponent{constructor(options){var style;super(),document.getElementById("svelte-sm1qeg-style")||((style=internal_element("style")).id="svelte-sm1qeg-style",style.textContent=".dc-embed-shim.svelte-sm1qeg{position:absolute;background:rgba(0, 0, 0, 0.4);cursor:pointer}",append(document.head,style)),init(this,options,Page_svelte_instance,Page_svelte_create_fragment,safe_not_equal,{id:6,slugId:0,page:1})}};const enhance_embeds=document.querySelectorAll(".DC-embed");enhance_embeds.forEach(embed=>{if(-1!=embed.className.indexOf("DC-embed-enhanced"))return;embed.className+=" DC-embed-enhanced",embed.style.font='400 10pt/14pt Source Sans Pro,-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';const resource=embed.querySelector(".DC-embed-resource");if(null==resource)return;if(null==resource.href)return;let hash=resource.href.split("#");if(2!=hash.length)return;let slugId=hash[0];hash=hash[1];const parts=slugId.split("/");if(parts.length<2)return;slugId=parts[parts.length-1];const id=slugId.split("-")[0];let page=hash.split("/");if(2!=page.length)return;if(page=parseInt(page[1].substr(1)),null==page||isNaN(page))return;const img=embed.querySelector("img"),container=document.createElement("div");container.className="dc-embed-container",container.style.display="inline-block",container.style.position="relative",container.style.lineHeight="0",container.style.margin=img.style.margin,img.style.margin="",img.parentElement.replaceChild(container,img),container.appendChild(img),new Page_svelte({target:container,props:{id:id,slugId:slugId,page:page}})})}]);